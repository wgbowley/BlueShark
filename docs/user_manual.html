<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>BlueShark User Manual</title>
<style>
  body {
    max-width: 700px;
    margin: 3rem auto;
    padding: 0 1rem;
    background: #fff;
    color: #000;
    line-height: 1.6;
    font-family: Arial, sans-serif;
  }
  h1, h2 {
    margin-bottom: 0.5rem;
    color: #247BA0;
  }
  h1 {
    text-align: center;
    margin-bottom: 1rem;
  }
  .metadata {
    text-align: center;
    margin-bottom: 2rem;
    color: #555;
  }
  pre {
    background: #f5f5f5;
    padding: 1rem;
    border-radius: 4px;
    overflow-x: auto;
    font-family: monospace;
  }
  code {
    background: #eee;
    padding: 0 4px;
    border-radius: 3px;
    font-family: monospace;
  }
  a {
    color: #247BA0;
    text-decoration: none;
  }
  a:hover {
    text-decoration: underline;
  }
</style>
</head>
<body>

<h1>BlueShark V1.1</h1>

<div class="metadata">
  <p>User's Manual</p>
  <p>26 July 2025</p>
  <p>William Bowley<br /><a href="mailto:wgrantbowley@gmail.com">wgrantbowley@gmail.com</a></p>
</div>

<h2>Overview</h2>
<p>BlueShark is a modular framework designed to simulate linear motors, focusing on flat and tubular motor designs in this release.  
It uses finite element magnetic methods via <code>pyFEMM</code> to perform magnetic simulations.</p>

<p>The framework handles the pre-processing and post-processing of FEMM results to compute key performance metrics such as ripple forces and force over rotation.</p>
<h2>Installation</h2>
<pre>
git clone (URL to be added on release)
cd blueshark
pip install -r requirements.txt
</pre>

<h2>Modeling Assumptions</h2>
<p>BlueShark models the motor using a series of magnetostatic frames. This approach was chosen after dynamic simulations in FEMM failed to align with experimental results.</p>

<p>Consequently, the simulator currently does not model eddy currents or lamination losses directly, nor does it treat elements as AC.  
However, the post-processing could in-theory approxmate phase shift based on motor inductance and synchronous frequency.</p>

<h2>Typical Workflow</h2>
<p>If you are using a provided motor model (e.g., <code>TubularMotor</code>), the typical simulation workflow is as follows:</p>

<pre>
<code>
from motors import TubularMotor
from outputs import OutputSelector, output_writers
from simulation import rotational_analysis

# --- Configuration ---
NUM_SAMPLES = 50
MOTOR_CONFIG_PATH = "data/tubular/tubular.yaml"
REQUESTED_OUTPUTS = ["force_lorentz", "phase_voltage"]

# --- Initialize and simulate ---
motor = TubularMotor(MOTOR_CONFIG_PATH)
motor.generate()

output_selector = OutputSelector(REQUESTED_OUTPUTS)
subjects = {"group": motor.movingGroup, "phaseName": motor.phases}

results = rotational_analysis(motor, output_selector, subjects, NUM_SAMPLES)

# --- Save results ---
output_path = motor.path
output_writers.write_json(motor.path)
</code>
</pre>

</body>
</html>
